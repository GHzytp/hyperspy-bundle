{% set version = os.environ.get("version", "2020.11.15") %}

name: HyperSpy-bundle
version: {{ version }}

ignore_duplicate_files: True

channels:
  - conda-forge
  - defaults
  - msys2    # [win]

specs:
  - python 3.8*
  - conda
  - menuinst                                # [win]
  - console_shortcut                        # [win]
  - spyder
  - anaconda-navigator
  - nb_conda_kernels
  - hyperspy >=1.6
  - hyperspyui
  - start_jupyter_cm
  - ipympl >=0.5.7
  - jupyterlab
  - nodejs
  - qtconsole
  - atomap
  - pyxem
  - kikuchipy
  - mamba

license_file: LICENSE

write_condarc: True

post_install: post_install.sh               # [linux]
post_install: post_install_macosx.sh        # [osx]
post_install: post_install.bat              # [win]

pre_uninstall: pre_uninstall.bat            # [win]

post_install_desc: "Build jupyterlab widgets and add context menu shortcuts." # [win]

check_path_length: True                     # [win]
transmute_file_type: ".conda"
installer_type: pkg                         # [osx]

# Icon image for Windows installer
icon_image: hyperspy_bundle_installer.ico   # [win]

default_prefix: '%USERPROFILE%\HyperSpy-bundle' # [win]

welcome_image_text: |-
                    HyperSpy
                    bundle
header_image_text:  |-
                    HyperSpy
                    bundle

company: The HyperSpy developers

